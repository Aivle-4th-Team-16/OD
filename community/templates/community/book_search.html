{% extends 'community/template.html' %}
{% load static %}

{% block title %}도서 검색{% endblock %}
{% block style %}
{% endblock %}

{% block content %}
    <!-- 서브 네비게이션바 -->
    <ul class="d-flex justify-content-center nav nav-pills my-5" id="pills-tab" role="tablist">
      <li class="nav-item mx-4" role="presentation">
        <button class="nav-link fs-3" id="pills-book-share" data-bs-toggle="pill" data-bs-target="#book-share" type="button" role="tab">공유 및 토론</button>
      </li>
      <li class="nav-item mx-4" role="presentation">
        <button class="nav-link active fs-3" id="pills-book-search" data-bs-toggle="pill" data-bs-target="#book-search" type="button" role="tab">신규 도서 신청</button>
      </li>
      <li class="nav-item mx-4" role="presentation">
        <button class="nav-link fs-3" id="pills-book-inquiry" data-bs-toggle="pill" data-bs-target="#book-inquiry" type="button" role="tab">1:1 문의</button>
      </li>
      <li class="nav-item mx-4" role="presentation">
        <button class="nav-link fs-3" id="pills-book-faq" data-bs-toggle="pill" data-bs-target="#book-faq" type="button" role="tab">FAQ</button>
      </li>
    </ul>

    <!-- 컨텐츠 -->
    <div class="tab-content" id="pills-tabContent">
      <!-- 공유 및 토론 -->
      <div class="tab-pane fade" id="book-share" role="tabpanel" tabindex="0">
        <h1>공유 및 토론 구현해주세요.</h1>     
      </div>

      <!-- 신규 도서 신청 -->
      <div class="tab-pane fade show active" id="book-search" role="tabpanel" tabindex="0">
        <form method="get" action="{% url 'community:book_search' %}">
            <input class="form-control" type="text" name="query" placeholder="등록하고 싶은 도서를 검색해보세요." style="width:400px;" />
            <button class="btn btn-outline-indigo-100" type="submit">검색</button>
        </form>
        {% if books %}
        <div class="books-grid">
            {% for book in books %}
            <div class="book-item">
                <a href="{% url 'community:book_complete' book.isbn %}">
                    <img src="{{ book.image }}" alt="{{ book.title }}" />
                </a>
                <div class="book-info">
                    <h4>{{ book.title }}</h4>
                    <p class="author">저자: {{ book.author }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        {% elif query %}
        <p>검색 결과가 없습니다.</p>
        {% endif %}
      </div>

      <!-- 1:1 문의 -->
      <div class="tab-pane fade" id="book-inquiry" role="tabpanel" tabindex="0">
        <h1>1:1 문의 구현해주세요.</h1>        
      </div>

      <!-- FAQ -->
      <div class="tab-pane fade" id="book-faq" role="tabpanel" tabindex="0">
        <h1>FAQ 구현해주세요.</h1>
      </div>
    </div>

{% endblock %}

{% block script %}
{% endblock %}