{% extends 'community/template.html' %}
{% load static %}

{% block title %}도서 검색{% endblock %}
{% block style %}
{% endblock %}

{% block content %}
    <!-- 서브 네비게이션 바 -->
    {% include 'community/sub_navbar.html' %}

    <!-- 신규 도서 신청 -->
    <div class="container mt-3 mb-3">
      <div class="row justify-content-center">
          <div class="col-sm-8">
              <form class="form-inline" method="get" action="{% url 'community:book_search' %}">
                  <div class="input-group w-90">
                      <input type="text" class="form-control" name="query" placeholder="등록하고 싶은 도서를 검색해보세요." aria-label="Search">
                      <div class="input-group-append">
                          <button class="btn btn-success" type="submit">검색하기</button>
                      </div>
                  </div>
              </form>
          </div>
      </div>
    </div>

    {% if books %}
    <div class="books-grid">
        {% for book in books %}
        <div class="book-item">
            <a href="{% url 'community:book_complete' book.isbn %}">  <!-- get 요청 -->
                <img src="{{ book.image }}" alt="{{ book.title }}" />
            </a>
            <div class="book-info">
                <p class="title">{{ book.title }}</p>
                <p class="author">저자: {{ book.author }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
    {% elif query %}
    <p>검색 결과가 없습니다.</p>
    {% endif %}

{% endblock %}

{% block script %}
{% endblock %}